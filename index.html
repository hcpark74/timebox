<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>TimeBox App</title>
    <!-- Pico.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <!-- Custom Style -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Day.js -->
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/ko.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json">
</head>

<body>

    <main>
        <!-- Tab 1: Focus (Timer) -->
        <section id="tab-focus" class="tab-content active">
            <div class="top-header">
                <h1 class="page-title">Focus</h1>
                <div id="sync-status" class="status-badge">Synced</div>
            </div>

            <div class="timer-display" id="timer-val">25:00</div>

            <div class="timer-controls">
                <button class="timer-btn btn-reset" onclick="resetTimer()"><i data-lucide="rotate-ccw"></i></button>
                <button class="timer-btn btn-start" onclick="toggleTimer()" id="btn-toggle"><i
                        data-lucide="play"></i></button>
            </div>

            <div class="current-task-box">
                <div class="task-label">NOW WORKING ON</div>
                <input type="text" id="focus-input" placeholder="무엇에 집중하시나요?" autocomplete="off">
            </div>
        </section>

        <!-- Tab 2: Plan (Timeline) -->
        <section id="tab-planner" class="tab-content">
            <div class="top-header">
                <h1 class="page-title">Plan</h1>
                <span id="today-date" class="date-badge">Today</span>
            </div>

            <h2>Top 3 Priorities</h2>
            <article>
                <input type="text" class="p-top" placeholder="1. 가장 중요한 일" autocomplete="off">
                <input type="text" class="p-top" placeholder="2. 두 번째 목표" autocomplete="off">
                <input type="text" class="p-top" placeholder="3. 세 번째 목표" style="border-bottom:none !important;"
                    autocomplete="off">
            </article>

            <h2>Brain Dump</h2>
            <article>
                <textarea id="brain-dump" rows="5" placeholder="머릿속 비우기..." autocomplete="off"></textarea>
            </article>

            <h2>Schedule (Timebox)</h2>
            <article id="timeline-container" style="padding: 10px;">
                <!-- Generated by JS -->
            </article>

            <input type="text" id="user-id" placeholder="Sync ID 입력" class="sync-id-input">
        </section>

        <!-- Tab 3: Stats (History) -->
        <section id="tab-stats" class="tab-content">
            <div class="top-header">
                <h1 class="page-title">History</h1>
            </div>

            <article class="streak-card">
                <div id="streak-count" class="streak-number">0</div>
                <div class="streak-label">DAY STREAK</div>
            </article>

            <h2>Consistency Map</h2>
            <article>
                <div class="grass-grid" id="grass-grid"></div>
            </article>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="switchTab('focus', this)">
            <i data-lucide="timer"></i>
            <span>Focus</span>
        </button>
        <button class="nav-item" onclick="switchTab('planner', this)">
            <i data-lucide="calendar-check"></i>
            <span>Plan</span>
        </button>
        <button class="nav-item" onclick="switchTab('stats', this)">
            <i data-lucide="bar-chart-2"></i>
            <span>Stats</span>
        </button>
    </nav>

    <script src="js/app.js"></script>
    <script>
        // Init logic
        if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/sw.js'); }
    </script>
</body>

</html>